
OPEN () {

	...

	-- MIRO SI ES PRODUCTOR O CONSUMIDOR EN FUNCION DE LA OPCION DE APERTURA
	SI ES CONSUMIDOR
		SECCION CRITICA DOWN(mtx)
			NUM_CONS++
		FIN SECCION CRITICA UP(mtx)
	SI ES PRODUCTOR
		SECCION CRITICA DOWN(mtx)
			NUM_PROD++
		FIN SECCION CRITICA UP(mtx)
	FIN SI

	...
}

RELEASE () {

	...

	-- MIRO SI ES PRODUCTOR O CONSUMIDOR EN FUNCION DE LA OPCION DE APERTURA
	SI ES CONSUMIDOR
		SECCION CRITICA DOWN(mtx)
			NUM_CONS--
		FIN SECCION CRITICA UP(mtx)
	SI ES PRODUCTOR
		SECCION CRITICA DOWN(mtx)
			NUM_PROD--
		FIN SECCION CRITICA UP(mtx)
	FIN SI

	...

}

READ () {
	-- MIRO SI HAY PRODUCTOR, SECCION CRITICA
	SI NO HAY PRODUCTOR ME BLOQUEO
		DO WHILE (
			DOWN (mtx);
			cons_prod==0;
			UP (mtx))
		DONE
	FIN SI

	-- SECCION CRITICA
		-- ME PONGO A LA COLA DE CONSUMIDORES
		nr_cons_waiting++
		DOWN(sem_cons)

		-- ME BLOQUEO PARA ACCEDER AL BUFFER
		DOWN(mtx)

			EXTRAIGO LA INFORMACION DEL BUFFER
			BORRO LA INFORMACION DEL BUFFER

		-- LIBERO EL ACCESO AL BUFFER
		UP(mtx)

		-- DESPIERTO AL PRODUCTOR
		UP(sem_prod)
	-- FIN SECCION CRITICA

	nr_cons_waiting--
	MANDO LOS DATOS AL USUARIO
}

WRITE () {
	-- MIRO SI HAY CONSUMIDOR, SECCION CRITICA
	SI NO HAY CONSUMIDOR ME BLOQUEO
		DO WHILE (
			DOWN (mtx);
			cons_cons==0;
			UP (mtx))
		DONE
	FIN SI

	EXTRAIGO LA INFORMACION DEL USUARIO

	-- SECCION CRITICA
		-- ME PONGO A LA COLA DE PRODUCTORES
		nr_prod_waiting++
		DOWN(sem_prod)

		-- ME BLOQUEO PARA ACCEDER AL BUFFER
		DOWN(mtx)

			ESCRIBO LA INFORMACION EN EL BUFFER

		-- LIBERO EL ACCESO AL BUFFER
		UP(mtx)

		-- DESPIERTO AL CONSUMIDOR
		UP(sem_cons)
	-- FIN SECCION CRITICA
	nr_prod_waiting--
}